{"version":3,"file":"comprehensions.js","sources":["comprehensions.js","@traceur/generated/TemplateParser/16","@traceur/generated/TemplateParser/15","@traceur/generated/TemplateParser/5","@traceur/generated/TemplateParser/14","@traceur/generated/TemplateParser/11","@traceur/generated/TemplateParser/12","@traceur/generated/TemplateParser/6","@traceur/generated/TemplateParser/13","@traceur/generated/TemplateParser/3","@traceur/generated/TemplateParser/17","@traceur/generated/TemplateParser/20","@traceur/generated/TemplateParser/21","@traceur/generated/TemplateParser/18","@traceur/generated/TemplateParser/22","@traceur/generated/TemplateParser/1","@traceur/generated/TemplateParser/2","@traceur/generated/TemplateParser/4","@traceur/generated/TemplateParser/7","@traceur/generated/TemplateParser/9","@traceur/generated/TemplateParser/10","@traceur/generated/TemplateParser/24"],"names":[],"mappings":"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","sourcesContent":["describe(\"comprehensions\", function() {\r\n\r\n\tit(\"can create arrays or generators\", function(){\r\n\r\n\t\tlet range = function*(start, end) {\r\n\t\t\tlet current = start;\r\n\t\t\twhile(current <= end) {\r\n\t\t\t\tyield current;\r\n\t\t\t\tcurrent += 1;\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tlet numbers = [];\r\n\t\tfor(let n of [1,2,3]) {\r\n\t\t\tnumbers.push(n * n);\r\n\t\t}\r\n\t\texpect(numbers).toEqual([1, 4, 9]);\r\n\r\n\t\tlet numbers = [for (n of [1,2,3]) if(n > 1) n * n];\r\n\t\texpect(numbers).toEqual([4,9]);\r\n\r\n\t\tlet numbers2 = (for (n of [1,2,3]) n * n);\r\n\t\texpect(Array.from(numbers2)).toEqual([1,4,9]);\r\n\r\n\t});\r\n\r\n\tit(\"can be used with yield*\", function(){\r\n\r\n\t\tclass Company {\t\r\n\t\t\tconstructor() {\r\n\t\t\t\tthis.employees = [];\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\taddEmployees(...names) {\r\n\t\t\t\tthis.employees = this.employees.concat(names);\r\n\t\t\t}\t\r\n\t\t\t*[Symbol.iterator]() {\r\n\t\t\t\tfor(let e of this.employees) {\r\n\t\t\t\t\tconsole.log(\"yield\", e);\r\n\t\t\t\t\tyield e;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tlet filter = function*(items, predicate) {\t\t\t\r\n\t\t\tyield* (for (item of items) if(predicate(item)) item);\r\n\t\t\t// for(let item of items) {\r\n\t\t\t// \tif(predicate(item)) {\r\n\t\t\t// \t\tyield item;\r\n\t\t\t// \t}\r\n\t\t\t// }\t\t\t\r\n\t\t}\r\n\r\n\t\tlet take = function*(items, number) {\r\n\t\t\tlet count = 0;\r\n\t\t\tif(number < 1) return;\r\n\t\t\tfor(let item of items) {\t\t\t\t\r\n\t\t\t\tyield item;\r\n\t\t\t\tcount += 1;\r\n\t\t\t\tif(count >= number) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tlet count = 0;\r\n\t\tlet company = new Company();\r\n\t\tlet found = undefined;\r\n\t\tcompany.addEmployees(\"Tim\", \"Sue\", \"Joy\", \"Tom\");\r\n\r\n\t\tfor(let employee of take(filter(company, e => e[0] == 'S'),1)) {\t\t\t\r\n\t\t\tcount += 1;\r\n\t\t\tfound = employee;\r\n\t\t\tconsole.log(\"got\", employee);\r\n\t\t}\r\n\r\n\t\texpect(count).toBe(1);\r\n\t\texpect(found).toBe(\"Sue\");\r\n\t});\r\n\r\n});","$traceurRuntime.initGeneratorFunction($__placeholder__0)","return $__placeholder__0(\n              $__placeholder__1,\n              $__placeholder__2, this);","$traceurRuntime.createGeneratorInstance","function($ctx) {\n      while (true) $__placeholder__0\n    }","$ctx.state = ($__placeholder__0) ? $__placeholder__1 : $__placeholder__2;\n        break","return $__placeholder__0","$ctx.maybeThrow()","return $ctx.end()","\n        for (var $__placeholder__0 =\n                 $__placeholder__1[Symbol.iterator](),\n                 $__placeholder__2;\n             !($__placeholder__3 = $__placeholder__4.next()).done; ) {\n          $__placeholder__5;\n          $__placeholder__6;\n        }","$__placeholder__0[$traceurRuntime.toProperty($__placeholder__1)]","var $__placeholder__0 = 0, $__placeholder__1 = [];","$__placeholder__0[$__placeholder__1++] = $__placeholder__2;","$traceurRuntime.setProperty($__placeholder__0,\n          $__placeholder__1, $__placeholder__2)","return $__placeholder__0;","var $__placeholder__0 = $__placeholder__1","($traceurRuntime.createClass)($__placeholder__0, $__placeholder__1, $__placeholder__2)","\n            for (var $__placeholder__0 = [], $__placeholder__1 = 0;\n                 $__placeholder__2 < arguments.length; $__placeholder__3++)\n              $__placeholder__4[$__placeholder__5] = arguments[$__placeholder__6];","$ctx.pushTry(\n            $__placeholder__0,\n            $__placeholder__1);","$ctx.popTry();","\n              $ctx.popTry();\n              $__placeholder__0 = $ctx.storedException;","\n        $__placeholder__0 = $__placeholder__1[Symbol.iterator]();\n        // received = void 0;\n        $ctx.sent = void 0;\n        // send = true; // roughly equivalent\n        $ctx.action = 'next';\n\n        for (;;) {\n          $__placeholder__2 = $__placeholder__3[$ctx.action]($ctx.sentIgnoreThrow);\n          if ($__placeholder__4.done) {\n            $ctx.sent = $__placeholder__5.value;\n            break;\n          }\n          $__placeholder__6;\n        }"]}